#!/usr/bin/env ruby
$:.unshift(File.join(File.dirname(__FILE__), "..", "lib"))
require "poolparty"
require "poolpartycl"
require "poolparty/installers/base_installer"
require "highline/import"

say("\nWhat remoter base would you like to use?")
choose do |menu|
  menu.prompt = "> "

  available_bases.each do |base|
    menu.choice base.to_sym do 
      
      say "Great, we'll be using #{base}"
      
      begin
        klass = "::PoolParty::Installers::#{base.to_s.capitalize}".constantize
        klass.send :new
      rescue Exception => e
        say("Not sure what remoter_base you mean. Please choose from the menu. Error: #{e}")
      end
    end
  end
  
end