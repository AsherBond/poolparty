#!/usr/bin/env ruby
$:.unshift(File.join(File.dirname(__FILE__), "..", "lib"))
require "poolparty"
require "poolpartycl"
o = PoolParty::Optioner.new(ARGV) do |opts, optioner|
end

load_pool(o.spec || Binary.get_existing_spec_location)

include Remote

@clouds = o.cloudname ? [cloud(o.cloudname.downcase.to_sym)] : clouds

@clouds.each do |name, cloud|

  with_cloud(cloud, {:testing => o.testing}) do
    logger.info header("Maintaining cloud validity #{name}")
    if 
    else
      logger.info "Cloud is maintained"
    end    
  end  

end